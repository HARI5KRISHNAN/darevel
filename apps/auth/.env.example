# ===================================
# ðŸ§© Darevel Auth App - Keycloak SSO
# ===================================
# Handles Keycloak login via NextAuth
# Port: 3005

# âœ… NextAuth Core Config
# Generate with: openssl rand -base64 32
# IMPORTANT: Must be the SAME in all apps (auth, suite, etc.)
NEXTAUTH_SECRET=your-super-long-random-secret
NEXTAUTH_URL=http://localhost:3005

# âœ… Keycloak OIDC Config
KEYCLOAK_ISSUER=http://localhost:8080/realms/pilot180
KEYCLOAK_CLIENT_ID=nextauth-client
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret

# âœ… Optional Debugging (only for local dev)
NEXTAUTH_DEBUG=true

# ===================================
# ðŸ”‘ Setup Instructions
# ===================================
# 1. Generate NEXTAUTH_SECRET:
#    openssl rand -base64 32
#    OR use: npm run setup (auto-generates and syncs)
#
# 2. Get KEYCLOAK_CLIENT_SECRET from:
#    Keycloak Admin Console â†’ Clients â†’ nextauth-client â†’ Credentials â†’ Secret
#
# 3. Verify Keycloak Client Settings:
#    - Client ID: nextauth-client
#    - Access Type: confidential
#    - Root URL: http://localhost:3005
#    - Redirect URIs: http://localhost:3005/*, http://localhost:3005/api/auth/*
#    - Web Origins: http://localhost:3005, http://localhost:3002, http://localhost:3000
#    - Direct Access Grants: Enabled
#    - Service Accounts: Enabled
#
# 4. Quick Start:
#    cp apps/auth/.env.example apps/auth/.env.local
#    npm run setup
#    npm run dev
